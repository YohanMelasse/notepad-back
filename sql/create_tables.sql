BEGIN;

DROP TABLE IF EXISTS notes, users;

CREATE TABLE users (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY,
  lastname VARCHAR(25) NOT NULL,
  firstname VARCHAR(25) NOT NULL,
  email VARCHAR(15) NOT NULL,
  username VARCHAR(15) NOT NULL,
  password TEXT NOT NULL,
  created_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE notes (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY,
  title VARCHAR(25) NOT NULL,
  content TEXT NOT NULL,
  created_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP,
  user_id INTEGER
);

COMMIT;